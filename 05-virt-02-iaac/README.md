
# Домашнее задание к занятию "5.2. Применение принципов IaaC в работе с виртуальными машинами"

## Как сдавать задания

Обязательными к выполнению являются задачи без указания звездочки. Их выполнение необходимо для получения зачета и диплома о профессиональной переподготовке.

Задачи со звездочкой (*) являются дополнительными задачами и/или задачами повышенной сложности. Они не являются обязательными к выполнению, но помогут вам глубже понять тему.

Домашнее задание выполните в файле readme.md в github репозитории. В личном кабинете отправьте на проверку ссылку на .md-файл в вашем репозитории.

Любые вопросы по решению задач задавайте в чате учебной группы.

---

## Задача 1

- Опишите своими словами основные преимущества применения на практике IaaC паттернов.
- Какой из принципов IaaC является основополагающим? 

#### Ответ:
#### 1. Применение на практике IaaC паттернов дает возможность увеличить стабильность сервисов, за счет повторяемости результата и возможности раннего обнаружения ошибок, значительно облегчает их масштабирование, позволяет не увеличивать штат сотрудников при увеличении количества оборудования или обслуживаемых сервисов. Параллельно документация на сервисы получается как бы сама собой, т.к. сценарии для их запуска являются подробнейшими инструкциями, которые воспринимает и человек и компьютер. Принципы IaaC можно применять не только для компьютеров (серверов), встречались мне проекты автоматизации сети с обычным "железным" сетевым оборудованием, самое главное у этого оборудования было - возможность доступа по ssh или telnet и способность воспринимать и активировать конфигурацию из файлов или команд.  
#### 2. Идемпоте́нтность (лат.idem — тот же самый + potens — способный) — это свойство объекта или операции, при повторном выполнении которой мы получаем результат идентичный предыдущему и всем последующим выполнениям.

## Задача 2

- Чем Ansible выгодно отличается от других систем управление конфигурациями? 
- Какой, на ваш взгляд, метод работы систем конфигурации более надёжный push или pull? 
#### Ответ:
#### 1. Выгодное отличие Ansible в том, что он использует существующую структуру ssh, это значит, что для его развертывания требуется установка тольоко на одном устройстве, с которого будет осуществляться управлеине (запуск плейбуков), настройка управляемого компьютера заключается в настройке доступа через ssh по ключу. Другие системы требуют установки специального PKI-окружения (установки своих агентов на управляемых компьютерах).
#### 2. На мой взгляд, более надежный - push. Он позволяет держать "центр управления" в одном месте и, например, все логи работы системы IaaC тоже. Настройка управляемого компьютера производится во время запуска соответствующего сценария, а не в соответствии с расписанием или периодичностью запуска агентов (проверки от агента, не появилось ли новых настроек)

## Задача 3

Установить на личный компьютер:

- VirtualBox
- Vagrant
- Ansible

VirtualBox
```bash
dmitriy@dellix:~/netology$ VirtualBox --help
Oracle VM VirtualBox VM Selector v6.1.30_Ubuntu
(C) 2005-2021 Oracle Corporation
All rights reserved.
```
Vagrant
```bash
dmitriy@dellix:~/netology$ vagrant -v
Vagrant 2.2.19
```

Ansible
```bash
dmitriy@dellix:~/netology$ ansible --version
ansible 2.10.8
  config file = None
  configured module search path = ['/home/dmitriy/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python3/dist-packages/ansible
  executable location = /usr/bin/ansible
  python version = 3.9.9 (main, Dec 16 2021, 23:13:29) [GCC 11.2.0]
```

*Приложить вывод команд установленных версий каждой из программ, оформленный в markdown.*

## Задача 4 (*)

Воспроизвести практическую часть лекции самостоятельно.

- Создать виртуальную машину.
```bash
dmitriy@dellix:~/netology/code/virt-homeworks/05-virt-02-iaac/src/vagrant$ find ../ | grep -v "\.vagrant"
../
../ansible
../ansible/inventory
../ansible/provision.yml
../vagrant
../vagrant/Vagrantfile
../vagrant/ansible.cfg
../Vagrantfile


PLAY [nodes] *******************************************************************

TASK [Gathering Facts] *********************************************************
ok: [server1.netology]

TASK [Create directory for ssh-keys] *******************************************
changed: [server1.netology]

TASK [Adding rsa-key in /root/.ssh/authorized_keys] ****************************
changed: [server1.netology]

TASK [Checking DNS] ************************************************************
changed: [server1.netology]

TASK [Installing tools] ********************************************************
ok: [server1.netology] => (item=['git', 'curl'])

TASK [Installing docker] *******************************************************
changed: [server1.netology]

TASK [Add the current user to docker group] ************************************
changed: [server1.netology]

PLAY RECAP *********************************************************************
server1.netology           : ok=7    changed=5    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
```

- Зайти внутрь ВМ, убедиться, что Docker установлен с помощью команды
```
docker ps
```


```bash
vagrant@server1:~$ docker
docker                         dockerd                        dockerd-rootless-setuptool.sh  dockerd-rootless.sh            docker-init                    docker-proxy
vagrant@server1:~$ docker ps
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES```